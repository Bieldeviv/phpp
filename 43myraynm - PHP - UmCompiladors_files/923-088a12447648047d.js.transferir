"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{80923:(e,t,n)=>{n.d(t,{A:()=>ep});var i=n(74848),o=n(76835),a=n(4429),r=n(52064),s=n(11347),l=n(20889),c=n(72035),d=n(94191),p=n(29713),u=n(64551),g=n(2424),h=n(12515),x=n(60373),m=n(19427),j=n(55935),y=n(93381),f=n(15246),A=n(11866),w=n(35820),b=n(3508),S=n(66903),v=n(42907),C=n(68884),k=n(46550),O=n(77861),z=n(26015),T=n(66247),P=n(96540),E=n(37318),I=n(49518),L=n(63279),R=n(47863),B=n(99e3),D=n(58166),N=n(50331),_=n(1748),M=n(70595),J=n(65059),U=n(9257),F=n(65592),H=n(95109),W=n(88661),G=n(23903),$=n(40157),V=n(58782);let X={org:D.A,message:N.A,postPublished:_.A},K=e=>{let[t,n]=(0,P.useState)(!1),o=(0,E.d4)(e=>e.user.token),a=(0,E.d4)(e=>e.user.orgs),[s,d]=(0,P.useState)([]),[p,u]=(0,P.useState)(!1),[y,A]=(0,P.useState)(0),w=a&&a.length>0?6e4:18e4;async function b(){if(o){let e=await (0,R.Jt)("/api/notifications/getNotificationsCount",o);e&&"success"===e.status&&A(e.count)}}async function S(){u(!0);let e=await (0,R.Jt)("/api/notifications/getNotifications",o);if(e&&"success"===e.status&&e.results&&e.results.length>0){let t=[];e.results.forEach(e=>t.push({id:e._id,text:e.text,link:e.link,type:e.type})),d([...t])}u(!1)}async function v(e){await k(e.id),n(!1),L.Router.pushRoute(e.link)}(0,P.useEffect)(()=>{b()},[]),(0,R.$$)(()=>{b()},w);let C=()=>{n(!1)},k=async e=>{await (0,R.bE)("/api/notifications/clearNotification",o,{notificationIds:e}),s.forEach((t,n)=>{t.id===e&&s.splice(n,1)}),d([...s])},O=async()=>{await (0,R.Jt)("/api/notifications/clearAllNotifications",o),d([])};return(0,i.jsxs)(m.A,{children:[(0,i.jsx)(x.A,{title:"Notification",children:(0,i.jsx)(g.A,{color:"primary",onClick:()=>{n(!0),S()},size:"large",children:(0,i.jsx)(H.A,{badgeContent:y,sx:{"& .MuiBadge-badge":{right:-4,top:5,border:e=>"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}},color:"secondary",children:(0,i.jsx)(M.A,{fontSize:"small"})})})}),(0,i.jsx)(h.Ay,{sx:{"& .MuiDrawer-paper":{width:500,maxWidth:"100%"}},anchor:"right",ModalProps:{BackdropProps:{invisible:!0}},onClose:C,open:t,variant:"temporary",children:(0,i.jsxs)(r.A,{p:3,children:[(0,i.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(T.A,{variant:"h4",color:"textPrimary",children:["Notifications"," ",s&&s.length>0?"".concat(s.length):""]}),(0,i.jsx)(g.A,{onClick:C,size:"large",children:(0,i.jsx)(J.A,{})})]}),p&&(0,i.jsx)(V.A,{}),!p&&0===s.length&&(0,i.jsx)(r.A,{p:2,children:(0,i.jsx)(T.A,{variant:"h6",color:"textPrimary",children:"There are no new notifications!"})}),s.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.A,{p:1,display:"flex",justifyContent:"center",children:(0,i.jsx)(j.A,{onClick:()=>O(),endIcon:(0,i.jsx)(U.A,{}),children:"Clear All"})}),(0,i.jsx)(c.A,{dense:!0,disablePadding:!0,children:s.map(e=>{let t=X[e.type];return(0,i.jsxs)(W.Ay,{onClick:()=>v(e),dense:!0,divider:!0,style:{cursor:"pointer"},children:[(0,i.jsx)(G.A,{children:(0,i.jsx)(f.A,{sx:{backgroundColor:e=>e.palette.primary.main,color:e=>e.palette.primary.contrastText},children:(0,i.jsx)(t,{fontSize:"small"})})}),(0,i.jsx)(l.A,{primary:e.text,slotProps:{primary:{variant:"subtitle2",color:"textPrimary"}}}),(0,i.jsx)($.A,{className:"hide",onClick:()=>k(e.id),children:(0,i.jsx)(g.A,{edge:"end","aria-label":"delete",size:"large",children:(0,i.jsx)(F.A,{fontSize:"small"})})})]},e.id)})})]})]})})]})};var Y=n(37119);n(2317);var Z=n(46404),Q=n(11977),q=n(32592),ee=n(48768),et=n(26487),en=n(5075),ei=n(27621),eo=n(50447),ea=n(96282),er=n(55072),es=n(88788);let el=P.forwardRef(function(e,t){return(0,i.jsx)(o.A,{direction:"down",ref:t,...e})}),ec={"":"Home",pricing:"Pricing",html:"Editor",challenges:"Challenges",orgs:"Orgs",cheatsheets:"Cheatsheets",tutorials:"Tutorials",search:"Search",users:"Users"},ed=[{label:"Pricing",route:"/pricing",type:"link"},{label:"Learn",type:"group",spaceRightSide:230,children:[{label:"Courses",route:"/courses",description:"Pick up new skills in no time. Interactive learning by doing.",icon:(0,i.jsx)(Q.A,{fontSize:"small"})},{label:"Challenges",route:"/challenges",description:"Practice and compete with coding challenges.",icon:(0,i.jsx)(ee.A,{fontSize:"small"})},{label:"Orgs",route:"/orgs",description:"Manage and collaborate with your team/ classroom.",icon:(0,i.jsx)(D.A,{fontSize:"small"})},{label:"Wiki",route:"/wiki",description:"Easy way to create and share your own knowledge base.",icon:(0,i.jsx)(et.A,{fontSize:"small"})}]},{label:"Code",type:"group",spaceRightSide:150,children:[{label:"Editor",route:"/editor",description:"Simple, fast & reliable online IDE with 70+ languages support.",icon:(0,i.jsx)(Z.A,{fontSize:"small"})},{label:"EditorX",route:"/editorx",description:"Our flagship online IDE built for power users.",icon:(0,i.jsx)(en.A,{fontSize:"small",sx:{transform:"rotate(-180deg)"}})},{label:"Studio",route:"/studio",description:"Cloud based VSCode experience for full-stack development.",icon:(0,i.jsx)(q.A,{fontSize:"small"})}]},{label:"Deploy",type:"group",spaceRightSide:150,children:[{label:"EditorX Deploy",route:"/deployments",description:"Deploy your programs from EditorX instantly.",icon:(0,i.jsx)(es.A,{fontSize:"small"})},{label:"Studio Deploy",route:"/deployments",description:"Production-grade full-stack deployments from Studio.",icon:(0,i.jsx)(ei.A,{fontSize:"small"})}]},{label:"More",type:"group",spaceRightSide:80,children:[{label:"About",route:"/about",description:"Learn more about OneCompiler.",icon:(0,i.jsx)(eo.A,{fontSize:"small"})},{label:"Contact",route:"/contact",description:"Get in touch with our team.",icon:(0,i.jsx)(ea.A,{fontSize:"small"})},{label:"APIs",route:"/apis",description:"Integrate with OneCompiler programmatically.",icon:(0,i.jsx)(er.A,{fontSize:"small"})}]}],ep=e=>{var t;let n=(0,v.A)();(0,a.A)(n.breakpoints.down("lg"));let o=(0,a.A)(n.breakpoints.down("md"));(0,a.A)(n.breakpoints.down("sm"));let D=(0,E.wA)(),N=(0,E.d4)(e=>e.user),_=(0,Y.M)(),[M,J]=(0,P.useState)({anchorEl:null,anchorElMore:null,searchModelOpen:!1,drawerOpen:!1,loginModelOpen:!1,formStateSignIn:!0,name:"",email:"",password:"",searchString:""}),[U,F]=(0,P.useState)(null);P.useRef({}),(0,P.useEffect)(()=>{M.anchorEl&&D((0,I.D)(N.token))},[M.anchorEl,D,N.token]);let H=()=>{J(e=>({...e,anchorEl:null}))},W=()=>{L.Router.pushRoute("/users/".concat(N._id)),H()},G=()=>{D((0,I.Ub)()),H()},$=async()=>{let e=(null==N?void 0:N.plan)==="enterprise",{json:t,statusCode:n}=await (0,R.ZM)("/api/country",e?N.token:null);200===n&&t.countryCode&&D((0,I.R_)(t.countryCode))};(0,P.useEffect)(()=>{$()},[]);let V=Object.entries(ec).map(e=>{let[t,n]=e;return(0,i.jsx)(L.Link,{route:"/".concat(t),children:(0,i.jsx)(r.A,{component:"span",sx:{textDecoration:"none",color:e=>e.palette.text.primary},children:(0,i.jsx)(s.A,{children:(0,i.jsx)(l.A,{primary:n})})})},t)}),X=(0,i.jsxs)(r.A,{component:"div",sx:{width:"250px"},children:[(0,i.jsx)(c.A,{children:V}),(0,i.jsx)(d.A,{}),(null==N?void 0:N.userLoggedIn)&&(null==N?void 0:N.orgs)&&N.orgs.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{children:N.orgs.map(e=>(0,i.jsx)(L.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link),children:(0,i.jsx)(r.A,{component:"span",sx:{textDecoration:"none",color:e=>e.palette.text.primary},children:(0,i.jsx)(s.A,{children:(0,i.jsx)(l.A,{primary:e.title})})})},e._id))}),(0,i.jsx)(d.A,{})]}),(0,i.jsx)(c.A,{children:(null==N?void 0:N.userLoggedIn)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{onClick:W,children:(0,i.jsx)(l.A,{primary:"My Account"})}),(0,i.jsx)(s.A,{onClick:()=>{L.Router.pushRoute("/notifications"),H()},children:(0,i.jsx)(l.A,{primary:"Notifications"})}),(0,i.jsx)(s.A,{onClick:G,children:(0,i.jsx)(l.A,{primary:"Logout"})})]}):(0,i.jsx)(s.A,{children:(0,i.jsx)(l.A,{primary:"Login",onClick:e=>J({loginModelOpen:!0})})})})]});return(0,i.jsxs)(P.Fragment,{children:[(0,i.jsx)(p.A,{position:e.position||"static",elevation:0,color:"inherit",sx:t=>"fixed"===e.position?{borderBottom:"1px solid #d3d7da",zIndex:t.zIndex.drawer+1}:{},children:(0,i.jsxs)(u.A,{variant:"dense",children:[(0,i.jsx)(g.A,{edge:"start",sx:{marginLeft:"-8px",marginRight:"8px",color:e=>"light"===e.palette.mode?"rgba(0, 0, 0, 0.54)":"#ffffff"},color:"inherit","aria-label":"Menu",onClick:()=>J({drawerOpen:!0}),size:"large",children:(0,i.jsx)(k.A,{})}),(0,i.jsx)(h.Ay,{open:M.drawerOpen,onClose:()=>J({drawerOpen:!1}),children:(0,i.jsx)("div",{tabIndex:0,role:"button",onClick:()=>J({drawerOpen:!1}),onKeyDown:()=>J({drawerOpen:!1}),children:X})}),(0,i.jsx)(L.Link,{route:"/",children:(0,i.jsx)(r.A,{sx:{paddingLeft:"5px",paddingRight:"10px",paddingTop:"1px"},children:(0,i.jsx)(r.A,{sx:e=>({backgroundImage:"light"===e.palette.mode?"url(".concat("https://static.onecompiler.com/images/logo/oc_logo_v4_light.svg",")"):"url(".concat("https://static.onecompiler.com/images/logo/oc_logo_v4_dark.svg",")"),backgroundRepeat:"no-repeat",backgroundSize:"auto",backgroundPosition:"center",height:"27px",width:"180px",cursor:"pointer"})})})}),(0,i.jsx)("span",{style:{flexGrow:1}}),(0,i.jsx)(r.A,{component:"span",sx:{display:{xs:"none",sm:"block"}},children:(0,i.jsx)(x.A,{title:"Search",children:(0,i.jsx)(g.A,{"aria-label":"search",onClick:()=>L.Router.pushRoute("/search"),size:"large",children:(0,i.jsx)(O.A,{color:"primary",fontSize:"small"})})})}),(0,i.jsx)(x.A,{title:"Toggle DarkMode",children:(0,i.jsx)(g.A,{"aria-label":"dark mode",onClick:e=>{let t="dark"===_.theme?"light":"dark";_.onUpdate("theme",t)},size:"large",children:(0,i.jsx)(C.A,{color:"primary",fontSize:"small"})})}),(null==N?void 0:N.userLoggedIn)&&(0,i.jsx)(m.A,{children:(0,i.jsx)(r.A,{component:"span",sx:{display:{xs:"none",sm:"block"}},children:(0,i.jsx)(K,{})})}),!o&&(0,i.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",gap:0},children:[ed.map(e=>"link"===e.type?(0,i.jsx)(r.A,{sx:{px:1},children:(0,i.jsx)(L.Link,{prefetch:!1,route:e.route,children:(0,i.jsx)(j.A,{color:"primary",sx:{textTransform:"none",fontWeight:500,fontSize:"15px"},children:e.label})})},e.label):(0,i.jsxs)(r.A,{sx:{position:"relative",px:.1},onMouseEnter:t=>{F(e.label)},onMouseLeave:()=>F(null),children:[(0,i.jsx)(j.A,{color:"primary",endIcon:(0,i.jsx)(z.A,{sx:{transition:"0.1s",transform:U===e.label?"rotate(-180deg)":"rotate(0)"}}),sx:{textTransform:"none",fontWeight:500,fontSize:"15px","& .MuiButton-endIcon":{marginLeft:"4px"}},children:e.label}),(0,i.jsx)(y.A,{in:U===e.label,sx:{position:"absolute",top:"100%",left:"auto",right:-e.spaceRightSide,minWidth:520,maxWidth:"98vw",zIndex:1300,boxShadow:3,bgcolor:"background.paper",borderRadius:2,border:e=>"dark"===e.palette.mode?"1px solid ".concat(e.palette.grey[800]):"1px solid ".concat(e.palette.grey[300])},children:(0,i.jsx)(r.A,{sx:{p:1},children:(0,i.jsx)(r.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:0,p:1.2},children:e.children.map(e=>(0,i.jsx)(L.Link,{prefetch:!1,route:e.route,children:(0,i.jsxs)(r.A,{sx:{mb:0,cursor:"pointer",display:"flex",alignItems:"flex-start",borderRadius:2,px:1.2,py:1.2,transition:"background 0.1s","&:hover":{bgcolor:"action.hover"}},onClick:()=>F(null),children:[e.icon&&(0,i.jsx)(r.A,{sx:{mr:1.5,mt:.6,color:"text.secondary"},children:e.icon}),(0,i.jsxs)(r.A,{children:[(0,i.jsx)(T.A,{variant:"subtitle1",color:"text.primary",sx:{fontWeight:600},children:e.label}),(0,i.jsx)(T.A,{variant:"body2",color:"text.secondary",children:e.description})]})]})},e.label))})})})]},e.label)),(0,i.jsx)(r.A,{component:"span",sx:{marginRight:"18px",marginLeft:"18px",paddingBottom:"10px",fontSize:"30px",borderRight:"1px solid #464748",height:"40px"}}),(0,i.jsx)(m.A,{children:(null==N?void 0:N.userLoggedIn)?(0,i.jsx)(f.A,{alt:"",src:N.thumbnail,style:{cursor:"pointer",border:"1px solid #c1c1c1"},"aria-owns":M.anchorEl?"simple-menu":void 0,"aria-haspopup":"true",onClick:e=>{e.preventDefault(),e.stopPropagation(),J(t=>({...t,anchorEl:e.currentTarget}))}}):(0,i.jsx)(j.A,{onClick:e=>J({loginModelOpen:!0}),children:"Login"})}),(0,i.jsxs)(A.A,{id:"simple-menu",anchorEl:M.anchorEl,open:!!M.anchorEl,onClose:H,children:[(0,i.jsx)(w.A,{onClick:W,children:"My account"}),(0,i.jsx)(w.A,{onClick:G,children:"Logout"}),(0,i.jsx)(d.A,{}),null==N?void 0:null===(t=N.orgs)||void 0===t?void 0:t.map(e=>(0,i.jsx)(L.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link),children:(0,i.jsx)(r.A,{component:"span",sx:{textDecoration:"none",color:e=>e.palette.text.primary},children:(0,i.jsx)(w.A,{children:e.title})})},e._id))]})]})]})}),(0,i.jsx)(d.A,{}),!e.disableBottomMargin&&(0,i.jsx)(r.A,{component:"div",sx:{marginBottom:{xs:"10px",md:"30px"}}}),(0,i.jsx)(b.A,{open:M.loginModelOpen,TransitionComponent:el,keepMounted:e.keepMounted||!1,onClose:e=>J({loginModelOpen:!1}),children:(0,i.jsx)(S.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,i.jsx)(B.A,{onComplete:e=>{J({loginModelOpen:!1})}})})})]})}},85617:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(74848),o=n(71493),a=n(67330);n(96540);let r=e=>(0,i.jsx)(o.A,{sx:{zIndex:e=>e.zIndex.drawer+1,color:"#fff"},open:e.open,children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(a.A,{color:"inherit"}),(0,i.jsx)("p",{children:e.message||""})]})})},59113:(e,t,n)=>{n.d(t,{H:()=>a,o:()=>o.Ay});var i=n(74848),o=n(62636);let a=()=>(0,i.jsx)(o.l$,{})},58782:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(74848),o=n(52064),a=n(77911);n(96540);let r=()=>(0,i.jsxs)(o.A,{sx:e=>({padding:e.spacing(4)}),children:[(0,i.jsx)(a.A,{}),(0,i.jsx)(a.A,{}),(0,i.jsx)(a.A,{}),(0,i.jsx)("br",{}),(0,i.jsx)(a.A,{}),(0,i.jsx)(a.A,{}),(0,i.jsx)(a.A,{})]})},47863:(e,t,n)=>{n.d(t,{$$:()=>O,$C:()=>h,Jt:()=>w,PE:()=>b,Pp:()=>k,RA:()=>m,Se:()=>v,UX:()=>C,ZM:()=>f,bE:()=>x,wQ:()=>j,yH:()=>S,yJ:()=>A,zo:()=>y});var i=n(74848),o=n(52667),a=n(2424),r=n(82058),s=n(66247),l=n(39641),c=n(24545),d=n(38140),p=n.n(d),u=n(96540),g=n(63279);async function h(){let e=await fetch("/api/getId");return(await e.json()).id}async function x(e,t,n){let i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});return await i.json()}async function m(e,t,n){let i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function j(e,t,n){let i=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n||{})}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function y(e,t,n){let i=await fetch(e,{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:n}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function f(e,t,n){let i=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function A(e,t,n){let i=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});return await i.json()}async function w(e,t){let n=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});return await n.json()}async function b(e,t,n){let i=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),o=await i.blob();p()(o,n)}async function S(e,t,n){let i=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});return await i.json()}async function v(e,t,n){let i=new FormData;i.append("file",n);let o=await fetch(e,{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:i});return await o.json()}function C(e){let{toggleMessage:t,snakbarOpen:n,setSnakbarOpen:r}=e.data;return(0,i.jsx)(o.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n,autoHideDuration:6e3,onClose:()=>r(!1),message:(0,i.jsx)("span",{id:"message-id",children:t}),action:[(0,i.jsx)(a.A,{"aria-label":"Close",color:"inherit",onClick:()=>r(!1),size:"large",children:(0,i.jsx)(l.A,{})},"close")]})}function k(e){let{count:t,id:n}=e;return(0,i.jsx)(r.Ay,{item:!0,children:(0,i.jsx)(g.Link,{route:"/stats/".concat(n),children:(0,i.jsxs)(r.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",style:{cursor:"pointer"},children:[(0,i.jsxs)(r.Ay,{item:!0,children:[" ",(0,i.jsx)(c.A,{color:"primary"})," "]}),!e.hideCount&&(0,i.jsxs)(r.Ay,{item:!0,children:[" ",(0,i.jsxs)(s.A,{variant:"body2",gutterBottom:!0,children:[" ","".concat(t||0)," "]})," "]})]})})})}function O(e,t){let n=(0,u.useRef)();(0,u.useEffect)(()=>{n.current=e},[e]),(0,u.useEffect)(()=>{if(null!==t){let e=setInterval(function(){n.current()},t);return()=>clearInterval(e)}},[t])}},99e3:(e,t,n)=>{n.d(t,{A:()=>b});var i=n(74848),o=n(52064),a=n(55451),r=n(15246),s=n(55935),l=n(82058),c=n(52667),d=n(66247),p=n(25898),u=n(96540),g=n(37318),h=n(49518),x=n(50030),m=n.n(x);let j=e=>{let{setReCaptchaValue:t,getTurnstileRef:n}=e,o=(0,x.useTurnstile)();return(0,i.jsx)(m(),{theme:"light",sitekey:"0x4AAAAAAA1nNhOurnK73x78",onVerify:e=>{t(e),n&&n(o)}})};var y=n(60848),f=n(85617),A=n(47863),w=n(59113);let b=e=>{let[t,n]=(0,u.useState)(!1);(0,g.d4)(e=>e.user.userLoggedIn);let x=(0,g.wA)(),[m,b]=(0,u.useState)(e.hideMoreOptions||!1),[S,v]=(0,u.useState)(""),[C,k]=(0,u.useState)(""),[O,z]=(0,u.useState)(""),[T,P]=(0,u.useState)(""),[E,I]=(0,u.useState)(null),[L,R]=(0,u.useState)("login"),[B,D]=(0,u.useState)(null),[N,_]=(0,u.useState)(!1),[M,J]=(0,u.useState)(!1),[U,F]=(0,u.useState)(!1),[H,W]=(0,u.useState)(!1),[G,$]=(0,u.useState)(null),[V,X]=(0,u.useState)(null);async function K(t){if(t&&t.credential){n(!0);let i={provider:"google_one_tap",data:{credential:t.credential}},{statusCode:o,json:a,error:r}=await (0,A.RA)("/api/users",null,i);o<400&&a?(x((0,h.pH)(a)),e.onComplete({status:"success",data:a})):alert("Google OneTap login failed. Error: "+r),n(!1)}else console.log("Google OneTap login failed. Error: ",t)}(0,u.useEffect)(()=>{try{return I(window.self!==window.top),window.document&&((0,y.A)("https://accounts.google.com/gsi/client").onload=()=>{window.google&&(window.google.accounts.id.initialize({client_id:"748546363-11lp66se7cl6samfubad3dlsjnau8t11.apps.googleusercontent.com",callback:K,cancel_on_tap_outside:!1}),window.google.accounts.id.renderButton(document.getElementById("googleDiv"),{type:"standard",theme:"outline",size:"large",text:"signin_with",shape:"rectangular",width:300}),google.accounts.id.prompt())}),()=>{if(window.google)try{window.google.accounts.id.cancel()}catch(e){}}}catch(e){console.log(e)}},[]);let Y=t=>async n=>{let i=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,data:n})}),o=await i.json();"success"===o.status?(x((0,h.pH)(o)),e.onComplete({status:"success",data:o})):alert(o.message)},Z=(e,t)=>{"clickaway"!==t&&D(null)},Q=async()=>{if(!S||!C||!O){w.o.error("Please fill all fields");return}if(!C.includes("@")||!C.includes(".")){w.o.error("Please enter a valid email");return}if(O.length<8||O.length>32){w.o.error("Password should be between 8 to 32 characters");return}if(S.length<3||S.length>32){w.o.error("Name should be between 3 to 32 characters");return}if(C.length>128){w.o.error("Email should be less than 128 characters");return}let e=await fetch("/api/users/email/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S.trim(),email:C.trim(),password:O.trim(),reCapchaValue:G})}),t=await e.json();"success"===t.status?(R("otpSent"),$(null),null==V||V.reset()):alert(t.message)},q=async()=>{let t=await fetch("/api/users/email/signup/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C.trim(),otp:T,reCapchaValue:G})}),n=await t.json();if("success"===n.status){let t=n.user;x((0,h.pH)(t)),e.onComplete({status:"success",data:t})}else $(null),null==V||V.reset(),alert(n.message)},ee=async()=>{let e=await fetch("/api/users/email/forgotPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C.trim(),reCapchaValue:G})}),t=await e.json();"success"!==t.status?alert(t.message):(R("forgotPasswordOtpSent"),$(null))},et=async()=>{let e=await fetch("/api/users/email/forgotPassword/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C.trim(),otp:T,password:O,reCapchaValue:G})}),t=await e.json();"success"===t.status?(alert("Password reset successful, please login with new password"),R("login")):($(null),null==V||V.reset(),alert(t.message))};return null===E?(0,i.jsx)("div",{children:"Loading..."}):E?(0,i.jsx)(d.A,{variant:"body1",gutterBottom:!0,color:"textSecondary",children:"Failed to load login options, please try again."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.H,{}),(0,i.jsxs)(o.A,{sx:e=>({paddingTop:e.spacing(1),paddingBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"}),children:[(0,i.jsx)(r.A,{variant:"rounded",src:"https://static.onecompiler.com/images/logo/logo_icon_small.png"}),["signUp","login","otpSent"].includes(L)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)(o.A,{sx:e=>({paddingTop:e.spacing(4)}),children:[m&&(0,i.jsxs)("div",{children:[(0,i.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"Creating an account with onecompiler.com gets you additional benifites & it does not take more than couple of seconds."}),(0,i.jsx)("br",{}),(0,i.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"1. You can check all your programs history"}),(0,i.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"2. You can write private programs which only you can see"})]}),(0,i.jsx)(l.Ay,{container:!0,direction:m?"row":"column",justifyContent:"center",alignItems:"stretch",children:(0,i.jsx)(l.Ay,{item:!0,style:{flexGrow:1},children:(0,i.jsx)("div",{style:{paddingLeft:"8px"},id:"googleDiv"})})})]}),m&&(0,i.jsx)(l.Ay,{container:!0,direction:m?"row":"column",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(s.A,{color:"primary",onClick:()=>b(!1),endIcon:(0,i.jsx)(p.A,{}),children:"More login options"})}),!m&&(0,i.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,i.jsxs)(l.Ay,{sx:e=>({width:"100%",paddingTop:e.spacing(6),minWidth:e.spacing(40)}),container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",children:[(0,i.jsx)(d.A,{variant:"body1",gutterBottom:!0,children:"signUp"===L?"Create new account.":"or login with email & password"}),L&&"signUp"===L&&(0,i.jsx)(a.A,{id:"name",label:"Name",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:S,onChange:e=>v(e.target.value)}),(0,i.jsx)(a.A,{id:"email",label:"Email",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:C,onChange:e=>k(e.target.value?e.target.value.toLowerCase():"")}),(0,i.jsx)(a.A,{id:"password",label:"Password",type:"password",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:O,onChange:e=>z(e.target.value)}),L&&"otpSent"===L&&(0,i.jsx)(a.A,{id:"otp",label:"OTP (you receive on email)",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:T,onChange:e=>P(e.target.value)}),"login"===L&&(0,i.jsx)(s.A,{variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>{Y("onecompiler")({email:C,password:O})},children:"Login"}),("signUp"===L||"otpSent"===L)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{paddingTop:12},children:(0,i.jsx)(j,{setReCaptchaValue:$,getTurnstileRef:e=>X(e)},L)}),L&&"signUp"===L&&(0,i.jsx)(s.A,{disabled:!G,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>Q(),children:"Sign Up"}),L&&"otpSent"===L&&(0,i.jsx)(s.A,{disabled:!G,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>q(),children:"Finish Sign Up"})]}),"login"===L&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.A,{variant:"body2",gutterBottom:!0,children:["New to OneCompiler?  ",(0,i.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>R("signUp"),children:"Sign Up"})]}),(0,i.jsx)(d.A,{variant:"body2",gutterBottom:!0,children:(0,i.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>R("forgotPassword"),children:"Forgot password?"})})]}),"signUp"===L&&(0,i.jsxs)(d.A,{variant:"body2",gutterBottom:!0,children:["Already signed up? ",(0,i.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>R("login"),children:"Login"})]})]})})]}),["forgotPassword","forgotPasswordOtpSent"].includes(L)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.Ay,{sx:e=>({width:"100%",paddingTop:e.spacing(6),minWidth:e.spacing(40)}),container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",children:[(0,i.jsx)(d.A,{variant:"body1",gutterBottom:!0,sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),children:"forgotPasswordOtpSent"===L?"Please check your email for the OTP, and create your new password.":"Please enter your registered email, we will send you the reset instructions."}),(0,i.jsx)(a.A,{id:"email",label:"Email",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:C,onChange:e=>k(e.target.value?e.target.value.toLowerCase():"")}),"forgotPasswordOtpSent"===L&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.A,{id:"forgotPasswordOtpSent",label:"OTP (you receive on email)",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:T,onChange:e=>P(e.target.value)}),(0,i.jsx)(a.A,{id:"newPassword",label:"New Password",type:"password",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:O,onChange:e=>z(e.target.value)})]}),(0,i.jsx)("div",{style:{paddingTop:12},children:(0,i.jsx)(j,{setReCaptchaValue:$,getTurnstileRef:e=>X(e)},L)}),"forgotPassword"===L&&(0,i.jsx)(s.A,{disabled:!G,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>{ee()},children:"Continue"}),"forgotPasswordOtpSent"===L&&(0,i.jsx)(s.A,{disabled:!G,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>{et()},children:"Reset Password"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]})}),(0,i.jsx)(c.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:null!==B,autoHideDuration:6e3,onClose:Z,message:B,action:(0,i.jsx)(s.A,{color:"secondary",size:"small",onClick:Z,children:"Okay"})})]}),(0,i.jsx)(f.A,{open:t})]})}},2317:e=>{e.exports={DISABLED_COUNTRY_CODES:["IN","TH"],VALID_PLANS:["enterprise","plus","pro","ultra"]}},49518:(e,t,n)=>{n.d(t,{D:()=>l,HM:()=>o,R_:()=>r,Ub:()=>c,h$:()=>a,pH:()=>s});var i=n(76329);let o=(e,t)=>(n,o)=>{if(n({type:i.r4,payload:+e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},a=(e,t)=>(n,o)=>{if(n({type:i.rc,payload:!!e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},r=(e,t)=>(n,o)=>{if(n({type:i.m3,payload:e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},s=(e,t)=>(n,o)=>{if(n({type:i.K,payload:e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},l=e=>t=>{e?fetch("/api/users/me",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{e.plan||(e.plan=null),t(s(e))}):console.log("unable to refresh")},c=()=>e=>{e({type:i.bx,payload:{}}),localStorage.removeItem("reduxState")}},60848:(e,t,n)=>{n.d(t,{A:()=>i});function i(e,t,n){let i=document.createElement("script");return i.setAttribute("async",""),n&&(i.id=n),i.src=e,t?t.appendChild(i):document.head.appendChild(i),i}}}]);